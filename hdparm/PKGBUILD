# $Id: PKGBUILD 61828 2009-12-26 18:23:28Z jgc $
# Maintainer: Paul Mattal <paul@archlinux.org>

pkgname=hdparm
pkgver=9.27
pkgrel=3
pkgdesc="A shell utility for manipulating Linux IDE drive/driver parameters"
arch=(i686 x86_64)
depends=('glibc')
optdepends=('sh: required by idectl and ultrabayd')
groups=('base')
source=(http://downloads.sourceforge.net/sourceforge/hdparm/${pkgname}-${pkgver}.tar.gz)
license=('BSD')
url="http://sourceforge.net/projects/hdparm/"
options=('emptydirs')
md5sums=('e652dabb6c9233fb8a23ef60a17a1829')

build() {
  cd ${srcdir}/${pkgname}-${pkgver} || return 1

  # build
  make || return 1

  # install
  mkdir -p ${pkgdir}/{usr,sbin} || return 1
  make DESTDIR=${pkgdir} install || return 1
  install -m755 contrib/idectl ${pkgdir}/sbin || return 1
  install -m755 contrib/ultrabayd ${pkgdir}/sbin || return 1

  #install license file
  install -D -m 644 LICENSE.TXT $pkgdir/usr/share/licenses/hdparm/LICENSE.TXT || return 1
}
